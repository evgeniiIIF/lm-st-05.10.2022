(function(){"use strict";var t;function e(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function i(){var t=k,i="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return i?i.call(t):{next:e(t)}}var n,r="function"==typeof Object.create?Object.create:function(t){function e(){}return e.prototype=t,new e};if("function"==typeof Object.setPrototypeOf)n=Object.setPrototypeOf;else{var o;t:{var s={};try{s.__proto__={a:!0},o=s.a;break t}catch(t){}o=!1}n=o?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null}var a=n,c=this||self;function u(t){t=t.split(".");for(var e=c,i=0;i<t.length;i++)if(null==(e=e[t[i]]))return null;return e}function l(t,e,i){return t.call.apply(t.bind,arguments)}function h(t,e,i){if(!t)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,n),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function f(t,e,i){return(f=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?l:h).apply(null,arguments)}function d(t,e){t=t.split(".");var i,n=c;t[0]in n||void 0===n.execScript||n.execScript("var "+t[0]);for(;t.length&&(i=t.shift());)t.length||void 0===e?n=n[i]&&n[i]!==Object.prototype[i]?n[i]:n[i]={}:n[i]=e}function v(){this.s=this.s,this.B=this.B}v.prototype.s=!1,v.prototype.dispose=function(){this.s||(this.s=!0,this.G())},v.prototype.G=function(){if(this.B)for(;this.B.length;)this.B.shift()()};var p,y,w=c.window,g=(null==w||null==(p=w.yt)?void 0:p.config_)||(null==w||null==(y=w.ytcfg)?void 0:y.data_)||{};function m(t,e){return t in g?g[t]:e}function b(t){return("string"!=typeof(t=T(t))||"false"!==t)&&!!t}function _(t,e){return void 0===(t=T(t))&&void 0!==e?e:Number(t||0)}function T(t){var e=m("EXPERIMENTS_FORCED_FLAGS",{});return void 0!==e[t]?e[t]:m("EXPERIMENT_FLAGS",{})[t]}d("yt.config_",g);var I=_("web_emulated_idle_callback_delay",300),j=1e3/60-3,k=[8,4,3,2,1,0];function O(t){t=void 0===t?{}:t,v.call(this),this.g=[];for(var e=i(),n=e.next();!n.done;n=e.next())this.g[n.value]=[];this.j=0,this.N=t.timeout||1,this.i={},this.o=j,this.C=this.h=this.m=0,this.D=this.l=!1,this.u=[],this.H=f(this.R,this),this.M=f(this.T,this),this.J=f(this.O,this),this.K=f(this.P,this),this.L=f(this.S,this),this.A=this.F=!1,this.I=!!window.requestIdleCallback&&!!window.cancelIdleCallback&&!b("disable_scheduler_requestIdleCallback"),(this.v=(b("scheduler_use_raf_by_default")?!1!==t.useRaf:!!t.useRaf)&&!!window.requestAnimationFrame)&&document.addEventListener("visibilitychange",this.H)}if(O.prototype=r(v.prototype),O.prototype.constructor=O,a)a(O,v);else for(var A in v)if("prototype"!=A)if(Object.defineProperties){var D=Object.getOwnPropertyDescriptor(v,A);D&&Object.defineProperty(O,A,D)}else O[A]=v[A];function F(t,e){var i=Date.now();C(e),e=Date.now()-i,t.l||(t.o-=e)}function P(t,e,i,n){if(++t.C,10==i)return F(t,e),t.C;var r=t.C;return t.i[r]=e,t.l&&!n?t.u.push({id:r,priority:i}):(t.g[i].push(r),t.D||t.l||(0!=t.h&&S(t)!=t.m&&L(t),t.start())),r}function E(t){t.u.length=0;for(var e=4;0<=e;e--)t.g[e].length=0;t.g[8].length=0,t.i={},L(t)}function S(t){if(t.g[8].length){if(t.A)return 4;if(!document.hidden&&t.v)return 3}for(var e=4;e>=t.j;e--)if(0<t.g[e].length)return 0<e?!document.hidden&&t.v?3:2:1;return 0}function C(t){try{t()}catch(e){(t=u("yt.logging.errors.log"))&&t(e)}}function x(t){if(b("scheduler_use_jobpriority_keys_shutoff")){if(t.g[8].length)return!0;for(var e=3;0<=e;e--)if(t.g[e].length)return!0;return!1}for(var n=(e=i()).next();!n.done;n=e.next())if(t.g[n.value].length)return!0;return!1}function R(t){L(t),t.l=!0;for(var e=Date.now(),i=t.g[8];i.length;){var n=i.shift(),r=t.i[n];delete t.i[n],r&&C(r)}G(t),t.l=!1,x(t)&&t.start(),t.o-=Date.now()-e}function G(t){for(var e=0,i=t.u.length;e<i;e++){var n=t.u[e];t.g[n.priority].push(n.id)}t.u.length=0}function J(t,e){t.A&&4==t.m&&t.h||L(t),t.l=!0,e=Date.now()+(e||t.o);for(var i=t.g[4];i.length;){var n=i.shift(),r=t.i[n];delete t.i[n],r&&C(r)}if(i=t.F?0:1,i=t.j>i?t.j:i,!(Date.now()>=e))do{t:{n=t,r=i;for(var o=3;o>=r;o--)for(var s=n.g[o];s.length;){var a=s.shift(),c=n.i[a];if(delete n.i[a],c){n=c;break t}}n=null}n&&C(n)}while(n&&Date.now()<e);t.l=!1,G(t),t.o=j,x(t)&&t.start()}function L(t){if(t.h){switch(t.m){case 1:var e=t.h;t.I?window.cancelIdleCallback(e):window.clearTimeout(e);break;case 2:case 4:window.clearTimeout(t.h);break;case 3:window.cancelAnimationFrame(t.h)}t.h=0}}(t=O.prototype).P=function(t){var e=void 0;t&&(e=t.timeRemaining()),this.F=!0,J(this,e),this.F=!1},t.T=function(){J(this)},t.O=function(){R(this)},t.S=function(){this.A=!0;var t=S(this);4==t&&t!=this.m&&(L(this),this.start()),J(this),this.A=!1},t.R=function(){document.hidden||R(this),this.h&&(L(this),this.start())},t.start=function(){if(this.D=!1,0==this.h)switch(this.m=S(this),this.m){case 1:var t=this.K;this.h=this.I?window.requestIdleCallback(t,{timeout:3e3}):window.setTimeout(t,I);break;case 2:this.h=window.setTimeout(this.M,this.N);break;case 3:this.h=window.requestAnimationFrame(this.L);break;case 4:this.h=window.setTimeout(this.J,0)}},t.G=function(){E(this),L(this),this.v&&document.removeEventListener("visibilitychange",this.H),v.prototype.G.call(this)};var N=u("yt.scheduler.instance.timerIdMap_")||{},q=_("kevlar_tuner_scheduler_soft_state_timer_ms",800),B=0,M=0;function H(){var t=u("ytglobal.schedulerInstanceInstance_");return t&&!t.s||d("ytglobal.schedulerInstanceInstance_",t=new O(m("scheduler")||{})),t}function z(t){var e=u("ytcsi.tick");e&&e(t)}function K(){z("jse"),X()}function X(){window.clearTimeout(B),H().start()}function Q(){window.clearTimeout(M),M=window.setTimeout((function(){z("jset"),U(0)}),q)}function U(t){Q();var e=H();e.j=t,e.start()}u("yt.scheduler.initialized")||(d("yt.scheduler.instance.dispose",(function(){var t=u("ytglobal.schedulerInstanceInstance_");t&&(t&&"function"==typeof t.dispose&&t.dispose(),d("ytglobal.schedulerInstanceInstance_",null))})),d("yt.scheduler.instance.addJob",(function(t,e,i){if(0==i||void 0===i)return i=void 0===i,-P(H(),t,e,i);var n=window.setTimeout((function(){var i=P(H(),t,e);N[n]=i}),i);return n})),d("yt.scheduler.instance.addImmediateJob",(function(t){F(H(),t)})),d("yt.scheduler.instance.cancelJob",(function(t){var e=H();if(0>t)delete e.i[-t];else{var i=N[t];i?(delete e.i[i],delete N[t]):window.clearTimeout(t)}})),d("yt.scheduler.instance.cancelAllJobs",(function(){for(var t in E(H()),N)delete N[Number(t)]})),d("yt.scheduler.instance.start",X),d("yt.scheduler.instance.pause",(function(){var t=H();L(t),t.D=!0,window.clearTimeout(B),B=window.setTimeout(K,q)})),d("yt.scheduler.instance.setPriorityThreshold",U),d("yt.scheduler.instance.enablePriorityThreshold",(function(t){Q();var e=H();e.j>t&&(e.j=t,e.start())})),d("yt.scheduler.instance.clearPriorityThreshold",(function(){window.clearTimeout(M);var t=H();t.j=0,t.start()})),d("yt.scheduler.initialized",!0))}).call(this);